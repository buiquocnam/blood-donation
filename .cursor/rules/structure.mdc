---
description: 
globs: 
alwaysApply: true
---
# ğŸ“¦ Next.js 15 + FFMA Folder Structure Rules

## ğŸ§­ Má»¥c tiÃªu
Äáº£m báº£o dá»± Ã¡n Next.js 15 cÃ³ kiáº¿n trÃºc rÃµ rÃ ng, dá»… má»Ÿ rá»™ng vÃ  báº£o trÃ¬ theo mÃ´ hÃ¬nh **Feature-based Folder Modular Architecture (FFMA)**.

---

## ğŸ“ Cáº¥u trÃºc thÆ° má»¥c chuáº©n

```
src/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â””â”€â”€ page.tsx
â”‚   â””â”€â”€ [actor]/
â”‚       â”œâ”€â”€ layout.tsx
â”‚       â””â”€â”€ [feature]/
â”‚           â””â”€â”€ page.tsx
â”œâ”€â”€ features/
â”‚   â””â”€â”€ [actor]/
â”‚       â””â”€â”€ [feature]/
â”‚           â”œâ”€â”€ components/
â”‚           â”œâ”€â”€ containers/
â”‚           â”œâ”€â”€ hooks/
â”‚           â”œâ”€â”€ services/
â”‚           â””â”€â”€ types.ts
â”œâ”€â”€ shared/
â”‚   â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ services/
â”‚   â””â”€â”€ types/
â”œâ”€â”€ lib/
â”œâ”€â”€ middleware.ts
â””â”€â”€ styles/
```

---

## ğŸ”¤ Quy Æ°á»›c Ä‘áº·t tÃªn

| Äá»‘i tÆ°á»£ng        | CÃ¡ch Ä‘áº·t tÃªn                            | VÃ­ dá»¥                         |
|------------------|------------------------------------------|-------------------------------|
| ğŸ“ ThÆ° má»¥c        | `kebab-case`                             | `user-profile`, `movie-list` |
| ğŸ“„ Component      | `PascalCase.tsx`                         | `UserCard.tsx`               |
| ğŸ“„ Hook           | `camelCase.ts`                           | `useUsers.ts`                |
| ğŸ“„ Service        | `camelCase.ts`                           | `userService.ts`             |
| ğŸ“„ Type           | `PascalCase + suffix` (`Props`, `Data`) | `User`, `UserProps`          |
| ğŸ“„ Container      | `PascalCase.tsx`                         | `UserTableContainer.tsx`     |

---

## ğŸ’¡ Quy táº¯c logic phÃ¢n táº§ng

| Táº§ng                | MÃ´ táº£                                                                 |
|---------------------|----------------------------------------------------------------------|
| `app/`              | Entry point routing + layout Next.js                                 |
| `features/`         | ToÃ n bá»™ logic & UI riÃªng biá»‡t theo feature vÃ  actor                  |
| `components/`       | UI nhá», khÃ´ng chá»©a logic (pure UI)                                   |
| `containers/`       | Äiá»u phá»‘i dá»¯ liá»‡u, gá»i hooks, xá»­ lÃ½ interaction                      |
| `hooks/`            | Giao tiáº¿p API (query/mutation), custom logic                         |
| `services/`         | Gá»i API báº±ng Axios hoáº·c Fetch, xá»­ lÃ½ raw data                        |
| `shared/`           | UI, hook, service, type dÃ¹ng chung nhiá»u feature                     |
| `types.ts`          | TypeScript type riÃªng cho tá»«ng feature                               |

---

## ğŸ§ª VÃ­ dá»¥ cá»¥ thá»ƒ

### ğŸ‘©â€ğŸ’¼ Trang `admin/users`
| ThÃ nh pháº§n        | Vá»‹ trÃ­                                                        |
|-------------------|---------------------------------------------------------------|
| Route             | `app/admin/users/page.tsx`                                     |
| UI components     | `features/admin/users/components/UserTableView.tsx`           |
| Logic Ä‘iá»u phá»‘i   | `features/admin/users/containers/UserTableContainer.tsx`      |
| Hooks             | `features/admin/users/hooks/useUsers.ts`                      |
| API Service       | `features/admin/users/services/userService.ts`                |
| Type              | `features/admin/users/types.ts`                               |
| Shared Axios      | `shared/services/axiosInstance.ts`                            |

---

## âœ… Æ¯u Ä‘iá»ƒm

- ğŸš€ TÃ¡ch biá»‡t UI vÃ  logic, dá»… test & dá»… scale
- ğŸ‘¥ Dá»… chia team theo actor (user/admin/staff)
- ğŸ§© Gáº¯n liá»n vá»›i tÃ­nh nÄƒng, dá»… Ä‘á»c - dá»… refactor
- ğŸŒ Há»— trá»£ tá»‘t server/client component trong Next.js 15
- ğŸ” CÃ³ thá»ƒ tÃ¡ch module Ä‘á»ƒ publish thÃ nh packages náº¿u cáº§n

---

## ğŸ“ Tips thá»±c chiáº¿n

- ğŸ”„ Logic gá»i API & state Ä‘Æ°a vÃ o `hooks/`
- ğŸ§  KhÃ´ng viáº¿t logic xá»­ lÃ½ trong `components/`, chá»‰ nháº­n props
- ğŸ“¦ Dá»¯ liá»‡u server (async/await) nÃªn dÃ¹ng trong container hoáº·c async component
- ğŸ’¬ Khi cáº§n mutation (delete/update), gá»i tá»« container vÃ  `refetch`

